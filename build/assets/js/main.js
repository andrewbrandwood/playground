!function(){"use strict";window.donationTargetState=function(t){return this.setApiUrl(t),this.init()},donationTargetState.prototype.setApiUrl=function(t){this.apiUrl=t},donationTargetState.prototype.getValues=function(){var t=this;return new Promise(function(e,o){var r=new XMLHttpRequest;r.open("GET",t.apiUrl,!0),r.onload=function(){200==r.status?e(JSON.parse(r.responseText)):o(Error(r.statusText))},r.onerror=function(){o(Error("Network Error"))},r.send()})},donationTargetState.prototype.setValues=function(t){var e=document.querySelector("[data-donation-running-total]"),o=document.querySelector("[data-donation-target]"),r=document.querySelector("[data-target-bar-indicator]");r.style.width="80%",e.innerHTML=t.raised,o.innerHTML=t.target},donationTargetState.prototype.calculateVisual=function(){var t=this;this.getValues().then(function(e){t.setValues(e)},function(t){console.error("error",t)})},donationTargetState.prototype.init=function(){this.calculateVisual()}}(),function(){"use strict";window.storeForms=function(t){return this.setStorage(t),this.init()},storeForms.prototype.setStorage=function(t){this.storageType=t?t:"sessionStorage"},storeForms.prototype.init=function(){this.storageAvailable()&&(this.forms=document.querySelector("form"),this.placeholders=document.querySelectorAll("[data-name]"),this.formFields=document.querySelectorAll("form [name]"),this.bindEvents(),this.populatePlaceholders(),this.populateFormFields())},storeForms.prototype.storageAvailable=function(){try{var t="__storage_test__";return this.storage=window[this.storageType],this.storage.setItem(t,t),this.storage.removeItem(t),!0}catch(e){return!1}},storeForms.prototype.bindEvents=function(){this.forms&&this.forms.addEventListener("submit",this.processForm.bind(this))},storeForms.prototype.populatePlaceholders=function(){for(var t=0;t<this.placeholders.length;t++){var e=this.placeholders[t],o=e.getAttribute("data-name"),r=this.getItem(o)||"",s=e.getAttribute("data-show-if"),n=e.getAttribute("data-hide-if");o&&(s?":empty"===s?r&&(e.style.display="none"):s!==r&&(e.style.display="none"):n?":empty"===n?r||(e.style.display="none"):n===r&&(e.style.display="none"):e.innerHTML=r.replace(/\n\r?/g,"<br />"))}},storeForms.prototype.populateFormFields=function(){var t=[];if(this.formFields)for(var e=0;e<this.formFields.length;e++){var o=this.formFields[e],r=o.getAttribute("name"),s=this.getItem(r);if(r&&t.indexOf(r)===-1){switch(o.type){case"radio":case"checkbox":var n=document.querySelector('[name="'+r+'"][value="'+s+'"]');n&&(n.checked=!0);break;default:s&&(o.value=s)}t.push(r)}}},storeForms.prototype.saveItem=function(t,e){this.storage.setItem(t,e)},storeForms.prototype.removeItem=function(t){this.storage.removeItem(t)},storeForms.prototype.getItem=function(t){return this.storage.getItem(t)},storeForms.prototype.processForm=function(t){for(var e=[],o=0;o<t.target.elements.length;o++){var r,s=t.target.elements[o],n=s.getAttribute("name");n&&e.indexOf(n)===-1&&(r=this.getFieldValue(s),r?this.saveItem(n,r):this.removeItem(n),e.push(n))}},storeForms.prototype.getFieldValue=function(t){if(t)switch(t.type){case"radio":var e=t.getAttribute("name"),o=document.querySelector('[name="'+e+'"]:checked');return o?o.getAttribute("value"):"";case"checkbox":return t.checked?t.value:"";default:return t.value.trim()}}}();var storeForms=new storeForms,donationTargetState=new donationTargetState("https://coop-mock-test-api.herokuapp.com/");
//# sourceMappingURL=maps/main.js.map
